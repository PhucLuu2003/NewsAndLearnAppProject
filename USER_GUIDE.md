# ğŸ“š HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG CHI TIáº¾T - LEARN FRAGMENT

## ğŸ“– Má»¤C Lá»¤C
1. [Tá»•ng quan](#tá»•ng-quan)
2. [CÃ¡ch sá»­ dá»¥ng tá»«ng chá»©c nÄƒng](#cÃ¡ch-sá»­-dá»¥ng-tá»«ng-chá»©c-nÄƒng)
3. [CÃ¡ch thÃªm dá»¯ liá»‡u vÃ o Firebase](#cÃ¡ch-thÃªm-dá»¯-liá»‡u-vÃ o-firebase)
4. [Cáº¥u trÃºc dá»¯ liá»‡u Firebase](#cáº¥u-trÃºc-dá»¯-liá»‡u-firebase)
5. [Troubleshooting](#troubleshooting)

---

## ğŸ¯ Tá»”NG QUAN

### MÃ n hÃ¬nh Learn bao gá»“m:
- **Daily Goal Card** - Hiá»ƒn thá»‹ tiáº¿n Ä‘á»™ má»¥c tiÃªu hÃ ng ngÃ y (2/5 completed)
- **6 Learning Modules:**
  1. ğŸ“š **Vocabulary** - Há»c tá»« vá»±ng
  2. ğŸ“– **Grammar** - Há»c ngá»¯ phÃ¡p
  3. ğŸ§ **Listening** - Luyá»‡n nghe
  4. ğŸ¤ **Speaking** - Luyá»‡n nÃ³i
  5. ğŸ“° **Reading** - Luyá»‡n Ä‘á»c
  6. âœï¸ **Writing** - Luyá»‡n viáº¿t

---

## ğŸš€ CÃCH Sá»¬ Dá»¤NG Tá»ªNG CHá»¨C NÄ‚NG

### 1. ğŸ“š VOCABULARY MODULE

#### A. Xem danh sÃ¡ch tá»« vá»±ng:
1. Má»Ÿ app â†’ Tab "Learn"
2. Click vÃ o card **Vocabulary** (mÃ u tÃ­m)
3. Xem danh sÃ¡ch tá»« Ä‘Ã£ há»c

#### B. ThÃªm tá»« vá»±ng má»›i:
1. Trong Vocabulary screen, click nÃºt **"+"** (Add Word)
2. Nháº­p thÃ´ng tin:
   - **Word**: Tá»« tiáº¿ng Anh (báº¯t buá»™c)
   - **Definition**: NghÄ©a (báº¯t buá»™c)
   - **Example**: CÃ¢u vÃ­ dá»¥ (tÃ¹y chá»n)
   - **Level**: Chá»n Beginner/Intermediate/Advanced
3. Click **"Save"**
4. âœ… Tá»« Ä‘Æ°á»£c lÆ°u vÃ o Firebase
5. âœ… Progress tá»± Ä‘á»™ng tÄƒng +1%

#### C. Filter tá»« vá»±ng:
- **All** - Táº¥t cáº£ tá»«
- **Learning** - Tá»« Ä‘ang há»c (mastery 1-4)
- **Mastered** - Tá»« Ä‘Ã£ thuá»™c (mastery 5)
- **Favorites** - Tá»« yÃªu thÃ­ch

#### D. Nghe phÃ¡t Ã¢m:
- Click icon ğŸ”Š bÃªn cáº¡nh tá»«
- Text-to-Speech sáº½ Ä‘á»c tá»«

#### E. ÄÃ¡nh dáº¥u yÃªu thÃ­ch:
- Click icon â¤ï¸ Ä‘á»ƒ thÃªm/bá» favorite

---

### 2. ğŸ“– GRAMMAR MODULE

#### A. Xem danh sÃ¡ch bÃ i há»c:
1. Click vÃ o card **Grammar** (mÃ u xanh dÆ°Æ¡ng)
2. Xem danh sÃ¡ch grammar lessons

#### B. Filter theo level:
- **All Levels** - Táº¥t cáº£
- **A1-A2** - Beginner
- **B1-B2** - Intermediate
- **C1-C2** - Advanced

#### C. Há»c bÃ i grammar:
1. Click vÃ o bÃ i há»c muá»‘n há»c
2. Äá»c:
   - ğŸ“– **Explanation** - Giáº£i thÃ­ch
   - ğŸ’¡ **Examples** - VÃ­ dá»¥
   - ğŸ“ **Rules** - Quy táº¯c (náº¿u cÃ³)
3. Cuá»™n xuá»‘ng cuá»‘i
4. Click **"Mark as Complete"**
5. âœ… BÃ i há»c Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u hoÃ n thÃ nh
6. âœ… Progress tá»± Ä‘á»™ng tÄƒng +5%
7. âœ… Daily goal tÄƒng +1

---

### 3. ğŸ“° READING MODULE

#### A. Äá»c bÃ i bÃ¡o:
1. Click vÃ o card **Reading** (mÃ u há»“ng)
2. Chá»n bÃ i bÃ¡o muá»‘n Ä‘á»c
3. Click vÃ o bÃ i bÃ¡o

#### B. Trong Article Detail:
1. **Scroll Ä‘á»ƒ Ä‘á»c** - Progress bar tá»± Ä‘á»™ng cáº­p nháº­t
2. **Progress tracking:**
   - 0% - Má»›i má»Ÿ
   - 25% - Äá»c Ä‘Æ°á»£c 1/4
   - 50% - Äá»c Ä‘Æ°á»£c 1/2
   - 75% - Äá»c Ä‘Æ°á»£c 3/4
   - 100% - HoÃ n thÃ nh âœ…

3. **Khi Ä‘áº¡t 100%:**
   - âœ… Article Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u completed
   - âœ… Reading progress tÄƒng +5%
   - âœ… Daily goal tÄƒng +1
   - âœ… Study time Ä‘Æ°á»£c ghi nháº­n

#### C. ThÃ´ng tin bÃ i bÃ¡o:
- **Category** - Chá»§ Ä‘á» (Technology, Business, etc.)
- **Level** - Äá»™ khÃ³ (Beginner, Intermediate, Advanced)
- **Reading Time** - Thá»i gian Ä‘á»c Æ°á»›c tÃ­nh
- **Publish Date** - NgÃ y xuáº¥t báº£n

---

### 4. ğŸ§ LISTENING MODULE

#### TÃ­nh nÄƒng (Ä‘ang phÃ¡t triá»ƒn):
- Nghe audio exercises
- Xem transcript
- LÃ m comprehension quiz
- Track listening progress

---

### 5. ğŸ¤ SPEAKING MODULE

#### TÃ­nh nÄƒng (Ä‘ang phÃ¡t triá»ƒn):
- Record giá»ng nÃ³i
- Pronunciation scoring
- Practice conversations
- Get feedback

---

### 6. âœï¸ WRITING MODULE

#### TÃ­nh nÄƒng (Ä‘ang phÃ¡t triá»ƒn):
- Viáº¿t essays
- Grammar check
- Get AI feedback
- Track writing progress

---

## ğŸ”¥ CÃCH THÃŠM Dá»® LIá»†U VÃ€O FIREBASE

### ğŸ“ CHUáº¨N Bá»Š

1. **Má»Ÿ Firebase Console:**
   - Truy cáº­p: https://console.firebase.google.com
   - Chá»n project cá»§a báº¡n
   - VÃ o **Firestore Database**

2. **Chá»n Collection:**
   - Vocabulary â†’ `users/{userId}/vocabulary`
   - Grammar â†’ `grammar_lessons`
   - Articles â†’ `articles`

---

### 1ï¸âƒ£ THÃŠM Tá»ª Vá»°NG (2 CÃCH)

#### CÃ¡ch 1: Qua App (Khuyáº¿n nghá»‹) âœ…
1. Má»Ÿ app â†’ Vocabulary
2. Click nÃºt **"+"**
3. Nháº­p thÃ´ng tin
4. Click **"Save"**
5. âœ… Tá»± Ä‘á»™ng lÆ°u vÃ o Firebase

#### CÃ¡ch 2: Thá»§ cÃ´ng trÃªn Firebase Console
1. VÃ o Firestore â†’ `users/{userId}/vocabulary`
2. Click **"Add document"**
3. Document ID: Auto-generate
4. ThÃªm fields:

```json
{
  "word": "beautiful",
  "definition": "attractive, pleasing to the eye",
  "example": "She has a beautiful smile.",
  "level": "intermediate",
  "status": "new",
  "mastery": 0,
  "favorite": false,
  "addedAt": "2025-12-17 14:30:00",
  "reviewCount": 0,
  "lastReviewed": null,
  "nextReview": null
}
```

5. Click **"Save"**

---

### 2ï¸âƒ£ THÃŠM BÃ€I Há»ŒC GRAMMAR

#### TrÃªn Firebase Console:
1. VÃ o Firestore â†’ `grammar_lessons`
2. Click **"Add document"**
3. Document ID: `lesson_001` (hoáº·c auto-generate)
4. ThÃªm fields:

```json
{
  "id": "lesson_001",
  "title": "Present Perfect Tense",
  "description": "Learn how to use present perfect tense correctly",
  "level": "B1",
  "explanation": "The present perfect tense is used to describe:\n1. Actions that happened at an unspecified time\n2. Actions that started in the past and continue to the present\n3. Recent actions with present results\n\nFormula: have/has + past participle",
  "examples": "1. I have visited Paris three times.\n2. She has lived here for 5 years.\n3. They have just finished their homework.\n4. Have you ever eaten sushi?\n5. He hasn't seen that movie yet.",
  "rules": "1. Use 'have' with I, you, we, they\n2. Use 'has' with he, she, it\n3. Past participle: regular verbs add -ed, irregular verbs vary\n4. Common time expressions: ever, never, just, already, yet, for, since",
  "order": 1,
  "createdAt": "2025-12-17"
}
```

5. Click **"Save"**

#### ThÃªm nhiá»u bÃ i há»c:
```json
// Lesson 2
{
  "id": "lesson_002",
  "title": "Past Simple vs Present Perfect",
  "level": "B1",
  "explanation": "...",
  "examples": "...",
  "rules": "...",
  "order": 2
}

// Lesson 3
{
  "id": "lesson_003",
  "title": "Conditional Sentences Type 1",
  "level": "B2",
  "explanation": "...",
  "examples": "...",
  "rules": "...",
  "order": 3
}
```

---

### 3ï¸âƒ£ THÃŠM BÃ€I BÃO (ARTICLES)

#### TrÃªn Firebase Console:
1. VÃ o Firestore â†’ `articles`
2. Click **"Add document"**
3. Document ID: `article_001` (hoáº·c auto-generate)
4. ThÃªm fields:

```json
{
  "id": "article_001",
  "title": "The Future of Artificial Intelligence",
  "content": "Artificial intelligence (AI) is rapidly transforming our world...\n\n[Full article content here - cÃ³ thá»ƒ dÃ i]\n\nIn conclusion, AI will continue to shape our future in ways we can only begin to imagine.",
  "category": "Technology",
  "level": "Intermediate",
  "imageUrl": "https://example.com/ai-image.jpg",
  "readingTime": 5,
  "publishDate": "Dec 17, 2025",
  "author": "John Doe",
  "summary": "An exploration of how AI is changing the world and what the future holds.",
  "tags": ["AI", "Technology", "Future"],
  "createdAt": "2025-12-17"
}
```

5. Click **"Save"**

#### Template cho cÃ¡c category khÃ¡c:

**Business Article:**
```json
{
  "title": "Startup Success Stories",
  "category": "Business",
  "level": "Advanced",
  "readingTime": 7,
  "content": "..."
}
```

**Science Article:**
```json
{
  "title": "Climate Change Solutions",
  "category": "Science",
  "level": "Intermediate",
  "readingTime": 6,
  "content": "..."
}
```

**Culture Article:**
```json
{
  "title": "Traditional Festivals Around the World",
  "category": "Culture",
  "level": "Beginner",
  "readingTime": 4,
  "content": "..."
}
```

---

### 4ï¸âƒ£ THÃŠM Dá»® LIá»†U HÃ€NG LOáº T (BATCH)

#### Sá»­ dá»¥ng Firebase Admin SDK (Node.js):

```javascript
const admin = require('firebase-admin');
admin.initializeApp();
const db = admin.firestore();

// ThÃªm nhiá»u grammar lessons
const lessons = [
  {
    id: 'lesson_001',
    title: 'Present Perfect',
    level: 'B1',
    explanation: '...',
    examples: '...'
  },
  {
    id: 'lesson_002',
    title: 'Past Simple',
    level: 'A2',
    explanation: '...',
    examples: '...'
  }
  // ... thÃªm nhiá»u lessons
];

const batch = db.batch();
lessons.forEach(lesson => {
  const ref = db.collection('grammar_lessons').doc(lesson.id);
  batch.set(ref, lesson);
});

batch.commit()
  .then(() => console.log('âœ… Added all lessons'))
  .catch(err => console.error('âŒ Error:', err));
```

---

## ğŸ“Š Cáº¤U TRÃšC Dá»® LIá»†U FIREBASE CHI TIáº¾T

### ğŸ—‚ï¸ Collections Structure:

```
firestore/
â”‚
â”œâ”€â”€ users/                          (User data)
â”‚   â””â”€â”€ {userId}/
â”‚       â”œâ”€â”€ (document)              
â”‚       â”‚   â”œâ”€â”€ username: string
â”‚       â”‚   â”œâ”€â”€ email: string
â”‚       â”‚   â”œâ”€â”€ level: string
â”‚       â”‚   â””â”€â”€ createdAt: timestamp
â”‚       â”‚
â”‚       â”œâ”€â”€ daily_goals/            (Daily goal tracking)
â”‚       â”‚   â””â”€â”€ {date}/             (yyyy-MM-dd)
â”‚       â”‚       â”œâ”€â”€ completed: number
â”‚       â”‚       â”œâ”€â”€ total: number
â”‚       â”‚       â””â”€â”€ date: string
â”‚       â”‚
â”‚       â”œâ”€â”€ module_progress/        (Module progress %)
â”‚       â”‚   â””â”€â”€ current/
â”‚       â”‚       â”œâ”€â”€ vocabulary: number (0-100)
â”‚       â”‚       â”œâ”€â”€ grammar: number (0-100)
â”‚       â”‚       â”œâ”€â”€ listening: number (0-100)
â”‚       â”‚       â”œâ”€â”€ speaking: number (0-100)
â”‚       â”‚       â”œâ”€â”€ reading: number (0-100)
â”‚       â”‚       â””â”€â”€ writing: number (0-100)
â”‚       â”‚
â”‚       â”œâ”€â”€ vocabulary/             (User's vocabulary)
â”‚       â”‚   â””â”€â”€ {wordId}/
â”‚       â”‚       â”œâ”€â”€ word: string
â”‚       â”‚       â”œâ”€â”€ definition: string
â”‚       â”‚       â”œâ”€â”€ example: string
â”‚       â”‚       â”œâ”€â”€ level: string
â”‚       â”‚       â”œâ”€â”€ status: string (new/learning/known/mastered)
â”‚       â”‚       â”œâ”€â”€ mastery: number (0-5)
â”‚       â”‚       â”œâ”€â”€ favorite: boolean
â”‚       â”‚       â”œâ”€â”€ addedAt: string
â”‚       â”‚       â”œâ”€â”€ reviewCount: number
â”‚       â”‚       â”œâ”€â”€ lastReviewed: string
â”‚       â”‚       â””â”€â”€ nextReview: string
â”‚       â”‚
â”‚       â”œâ”€â”€ grammar_progress/       (Grammar completion)
â”‚       â”‚   â””â”€â”€ {progressId}/
â”‚       â”‚       â”œâ”€â”€ lessonId: string
â”‚       â”‚       â”œâ”€â”€ completed: boolean
â”‚       â”‚       â”œâ”€â”€ score: number
â”‚       â”‚       â””â”€â”€ completedAt: timestamp
â”‚       â”‚
â”‚       â”œâ”€â”€ reading_progress/       (Reading progress)
â”‚       â”‚   â””â”€â”€ {articleId}/
â”‚       â”‚       â”œâ”€â”€ articleId: string
â”‚       â”‚       â”œâ”€â”€ progress: number (0-100)
â”‚       â”‚       â”œâ”€â”€ lastRead: string
â”‚       â”‚       â””â”€â”€ completed: boolean
â”‚       â”‚
â”‚       â”œâ”€â”€ study_time/             (Daily study time)
â”‚       â”‚   â””â”€â”€ {date}/
â”‚       â”‚       â”œâ”€â”€ date: string
â”‚       â”‚       â””â”€â”€ minutes: number
â”‚       â”‚
â”‚       â”œâ”€â”€ module_access/          (Access logs)
â”‚       â”‚   â””â”€â”€ {accessId}/
â”‚       â”‚       â”œâ”€â”€ module: string
â”‚       â”‚       â””â”€â”€ timestamp: string
â”‚       â”‚
â”‚       â””â”€â”€ progress/               (Overall progress)
â”‚           â””â”€â”€ current/
â”‚               â”œâ”€â”€ currentXP: number
â”‚               â”œâ”€â”€ xpForNextLevel: number
â”‚               â”œâ”€â”€ currentStreak: number
â”‚               â””â”€â”€ lastActiveDate: string
â”‚
â”œâ”€â”€ grammar_lessons/                (Public grammar lessons)
â”‚   â””â”€â”€ {lessonId}/
â”‚       â”œâ”€â”€ id: string
â”‚       â”œâ”€â”€ title: string
â”‚       â”œâ”€â”€ description: string
â”‚       â”œâ”€â”€ level: string (A1/A2/B1/B2/C1/C2)
â”‚       â”œâ”€â”€ explanation: string
â”‚       â”œâ”€â”€ examples: string
â”‚       â”œâ”€â”€ rules: string
â”‚       â”œâ”€â”€ order: number
â”‚       â””â”€â”€ createdAt: string
â”‚
â””â”€â”€ articles/                       (Public articles)
    â””â”€â”€ {articleId}/
        â”œâ”€â”€ id: string
        â”œâ”€â”€ title: string
        â”œâ”€â”€ content: string (long text)
        â”œâ”€â”€ category: string
        â”œâ”€â”€ level: string
        â”œâ”€â”€ imageUrl: string
        â”œâ”€â”€ readingTime: number (minutes)
        â”œâ”€â”€ publishDate: string
        â”œâ”€â”€ author: string
        â”œâ”€â”€ summary: string
        â”œâ”€â”€ tags: array
        â””â”€â”€ createdAt: string
```

---

## ğŸ¯ DAILY GOAL SYSTEM

### CÃ¡ch hoáº¡t Ä‘á»™ng:
1. **Má»—i ngÃ y má»›i** â†’ Táº¡o document má»›i trong `daily_goals/{today}`
2. **Default:** `completed: 0, total: 5`
3. **Khi hoÃ n thÃ nh task:**
   - Complete lesson â†’ `completed++`
   - Complete quiz â†’ `completed++`
   - Complete article â†’ `completed++`
4. **Progress bar** tá»± Ä‘á»™ng cáº­p nháº­t

### Code Ä‘á»ƒ increment:
```java
ProgressHelper.incrementDailyGoal();
```

---

## ğŸ“ˆ MODULE PROGRESS TRACKING

### CÃ¡ch tÃ­nh progress:
- **Vocabulary:** +1% má»—i tá»« má»›i, +2% khi master
- **Grammar:** +5% má»—i lesson hoÃ n thÃ nh
- **Reading:** +5% má»—i article hoÃ n thÃ nh
- **Quiz:** +score/10 % (score 80 â†’ +8%)

### Code Ä‘á»ƒ update:
```java
// TÄƒng 5%
ProgressHelper.updateModuleProgress("grammar", 5);

// Hoáº·c complete lesson (tá»± Ä‘á»™ng tÄƒng 5% + daily goal)
ProgressHelper.completeLesson("grammar", 5);
```

---

## ğŸ” TROUBLESHOOTING

### âŒ Lá»—i: "Lesson not found"
**NguyÃªn nhÃ¢n:** KhÃ´ng cÃ³ data trong `grammar_lessons`
**Giáº£i phÃ¡p:** ThÃªm lessons vÃ o Firebase theo hÆ°á»›ng dáº«n trÃªn

### âŒ Lá»—i: "Article not found"
**NguyÃªn nhÃ¢n:** KhÃ´ng cÃ³ data trong `articles`
**Giáº£i phÃ¡p:** ThÃªm articles vÃ o Firebase

### âŒ Progress khÃ´ng cáº­p nháº­t
**NguyÃªn nhÃ¢n:** User chÆ°a Ä‘Äƒng nháº­p hoáº·c lá»—i Firebase
**Giáº£i phÃ¡p:** 
1. Check user Ä‘Ã£ login chÆ°a
2. Check Firebase connection
3. Xem Logcat Ä‘á»ƒ debug

### âŒ Daily goal khÃ´ng reset
**NguyÃªn nhÃ¢n:** ChÆ°a implement auto-reset
**Giáº£i phÃ¡p:** App tá»± Ä‘á»™ng táº¡o document má»›i má»—i ngÃ y

---

## ğŸ’¡ TIPS & BEST PRACTICES

### 1. ThÃªm dá»¯ liá»‡u:
- âœ… ThÃªm qua app (vocabulary) - Tá»± Ä‘á»™ng format Ä‘Ãºng
- âœ… ThÃªm qua Console (lessons, articles) - CÃ³ control hÆ¡n
- âœ… DÃ¹ng batch import cho nhiá»u data

### 2. Content quality:
- âœ… Grammar lessons: RÃµ rÃ ng, cÃ³ vÃ­ dá»¥ cá»¥ thá»ƒ
- âœ… Articles: Äá»™ dÃ i phÃ¹ há»£p vá»›i reading time
- âœ… Vocabulary: CÃ³ example sentence

### 3. Level assignment:
- **Beginner (A1-A2):** Tá»«/bÃ i cÆ¡ báº£n
- **Intermediate (B1-B2):** Trung bÃ¬nh
- **Advanced (C1-C2):** NÃ¢ng cao

### 4. Testing:
- âœ… Test thÃªm 1-2 items trÆ°á»›c
- âœ… Check hiá»ƒn thá»‹ Ä‘Ãºng trong app
- âœ… Verify progress tracking hoáº¡t Ä‘á»™ng

---

## ğŸ“ SUPPORT

### Cáº§n thÃªm data máº«u?
Tham kháº£o cÃ¡c template á»Ÿ trÃªn vÃ  táº¡o theo format tÆ°Æ¡ng tá»±.

### Cáº§n customize?
- Sá»­a `ProgressHelper.java` Ä‘á»ƒ thay Ä‘á»•i logic
- Sá»­a layouts Ä‘á»ƒ thay Ä‘á»•i UI
- Sá»­a Firebase structure náº¿u cáº§n

---

**Last Updated:** 2025-12-17
**Version:** 1.0
**Author:** AI Assistant
